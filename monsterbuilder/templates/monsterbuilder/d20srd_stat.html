<!-- Monster Stat Block in style of d20srd.org -->
{% extends "blog/base.html" %}
{% comment %} requests from view: monster dictionary with keys: {name, size, size_modifier, monstertype, (subtypes), hd_number, hd_type, bonus_hp, hp_average, initiative,
speed, speed_burrow, speed_climb, speed_fly, speed_swim, speed_fly_maneuverability,
natural_armor, manufactured_armor, shield, deflection_bonus,
bab, grapple, primary_attacks[], secondary_attacks[], space, reach, special_attacks[], special_qualities[],
fortitude, reflex, will, strength, dexterity, consitution, intelligence, wisdom, charisma,
skills[{name, modifier}], feats[], environment, organisation, cr, treasure, alignment, advancement, lvl_adj
whereby:
- strength, dexterity, consitution, intelligence, wisdom, charisma are tuples of form (score, modifier)
{% endcomment %}
{% block content %}
{% load statblockfilters %}
  <h2>{{ monster.name }}</h2>
  <table class="srdStatBlock">
  <tr>
    <th>Size/Type:</th>
    <td>{{ monster.display_size|title }} {{ monster.monstertype.name|title }}
    {% for subtype in monster.subtypes.all %}{% if forloop.first %} ({% endif %}{{ subtype }}{% if forloop.last %}){% endif %}{% empty %}{% endfor %}</td>
  </tr>
  <tr>
    <th>Hit Dice:</th>
    <td>{{ monster.hd_number }}d{{ monster.monstertype.hd_type }}{{ monster.hp_modifier|add_modifier_sign }} ({{ monster.hp_average }} hp)</td>
  </tr>
  <tr>
    <th>Initiative:</th>
    <td>{{ monster.initiative|add_modifier_sign }}</td>
  </tr>
  <tr>
		<th>Speed:</th>
		<td>{{ monster.speed }} ft. ({{ monster.speed|divide_by:5 }} squares)
		  {% if monster.speed_burrow > 0 %}, burrow {{ monster.speed_burrow }} ft.{% endif %}
		  {% if monster.speed_climb > 0 %}, climb {{ monster.speed_climb }} ft.{% endif %}
		  {% if monster.speed_fly > 0 %}, fly {{ monster.speed_fly }} ft. ({{ monster.speed_fly_maneuverability }}){% endif %}
		  {% if monster.speed_swim > 0 %}, swim {{ monster.speed_swim }} ft.{% endif %}
		</td>
	</tr>
	<tr>
		<th>Armor Class:</th>
		<!-- monster.armor would be a list of armor ex. +x natural +y breastplate -->
		<td>{{ monster.ac }} ({{ monster.armor }}), touch {{ monster.ac_touch }}, flat-footed {{ monster.ac_flat }}</td>
	</tr>
	<tr>
		<th>Base Attack/Grapple:</th>
		<td>{{ monster.bab|add_modifier_sign }}/{{ monster.grapple|add_modifier_sign }}</td>
	</tr>
	<tr>
		<th>Attack:</th>
		<!-- monster.armor would be a list of attacks ex. <weapon> +x melee/ranged (1dy+z/a) -->
		<td>
		  {% for attack in monster.manufactured_attacks.all %}
		    {{ attack }}
		    {% if not forloop.last %} or {% endif %}
		  {% empty %}
		    —
		  {% endfor %}</td>
	</tr>
	<tr>
		<th>Full Attack:</th>
		<td>
		  {% for attack in monster.primary_natural_attacks %}
		    {{ attack }}
		    {% for sec_attack in monster.secondary_natural_attacks %} and {{ sec_attack }}{% endfor %}
		    {% if not forloop.last %} or {% endif %}
		    {% empty %}
		     —
		  {% endfor %}
		</td>
	</tr>
	<tr>
		<th>Space/Reach:</th>
		<td>{{ monster.space }} ft./{{ monster.reach }} ft.</td>
	</tr>
	<tr>
		<th>Special Attacks:</th>
		<td>
		  {% for attack in monster.special_attacks %}
		    {{ attack }}
		  {% empty %}—{% endfor %}
		</td>
	</tr>
	<tr>
		<th>Special Qualities:</th>
		<td>
		  {% for quality in monster.special_qualities %}
		    {{ quality }}
		    {% empty %}—{% endfor %}
		</td>
	</tr>
	<tr>
		<th>Saves:</th>
		<td>Fort {{ monster.fortitude_save|add_modifier_sign }}, Ref {{ monster.reflex_save|add_modifier_sign }}, Will {{ monster.will_save|add_modifier_sign }}</td>
	</tr>
	<tr>
		<th>Abilities:</th>
		<td>Str {{ monster.strength.0 }}, Dex {{ monster.dexterity.0 }}, Con {{ monster.constitution.0 }}, Int {{ monster.intelligence.0 }}, Wis {{ monster.wisdom.0 }}, Cha {{ monster.charisma.0 }}</td>
	</tr>
	<tr>
		<th>Skills:</th>
		<td>{% for skill in monster.skills.all %}{{ skill.name }} {{ skill.modifier|add_modifier_sign }}{% if not forloop.last %}, {% endif %}{% empty %}—{% endfor %}</td>
	</tr>
	<tr>
		<th>Feats:</th>
		<td>{% for feat in monster.feats.all %}1, {% empty %}—{% endfor %}</td>
	</tr>
	<tr>
		<th>Environment:</th>
		<td>{{ monster.environment }}</td>
	</tr>
	<tr>
		<th>Organization:</th>
		<td>{{ monster.organization }}</td>
	</tr>
	<tr>
		<th>Challenge Rating:</th>
		<td>{{ monster.cr }}</td>
	</tr>
	<tr>
		<th>Treasure:</th>
		<td>{{ monster.treasure }}</td>
	</tr>
	<tr>
		<th>Alignment:</th>
		<td>{{ monster.alignment }}</td>
	</tr>
	<tr>
		<th>Advancement:</th>
		<td>{{ monster.advancement }}</td>
	</tr>
	<tr>
		<th>Level Adjustment:</th>
		<td>{{ monster.lvl_adj }}</td>
	</tr>
</table>
{% endblock %}
